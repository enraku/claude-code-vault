# CLAUDE.md - グローバル設定

このファイルは、すべてのプロジェクトでClaude Codeに対するグローバルなガイダンスを提供します。

## 基本原則

- **簡潔性**: 不要な説明なしに、明確で実行可能な回答を提供する
- **既存パターンの遵守**: 変更を加える前に必ずコードベースの規約を確認する
- **セキュリティ第一**: 秘密情報、キー、機密情報を決して露出させない
- **テスト駆動アプローチ**: 可能な場合は実装前にテストを書く

## コード品質基準

- 一貫したフォーマットとリンティングを使用する
- 意味のある名前で自己文書化されたコードを書く
- 言語固有のベストプラクティスに従う
- 適切なエラーハンドリングを実装する
- 複雑なロジックに対してのみ必要な場合にコメントを追加する

## ワークフロー実践

### コーディング前
1. コンテキストを理解するために関連ファイルを読む
2. 既存のパターンと規約を確認する
3. 実装アプローチを計画する
4. 分析が必要な複雑な問題には「think」を使用する

### 開発中
- 明確なメッセージで段階的にコミットする
- 変更後にテストとリンティングを実行する
- 適切な場合は手動で機能を検証する
- アプローチが機能しない場合は早期に軌道修正する

### 確認すべき共通コマンド
- `npm run test` / `pytest` / `go test`
- `npm run lint` / `flake8` / `cargo clippy`
- `npm run build` / `make` / `cargo build`
- `npm run dev` / 開発サーバーコマンド

## ファイル構成

### 常に優先すべきこと
- 新しいファイルを作成するより既存ファイルの編集
- 確立されたプロジェクト構造の使用
- 既存の命名規則に従う
- 既存のユーティリティとコンポーネントの再利用

### 作成を避けるべきもの
- 重複した機能
- 不要なドキュメントファイル（要求されない限り）
- プロジェクト規約を破るファイル
- 単純な問題に対する複雑な抽象化

## 言語固有のガイドライン

### JavaScript/TypeScript
- 既存のパッケージマネージャー（npm/yarn/pnpm）を使用
- TypeScript strict modeが有効な場合はそれに従う
- 既存の状態管理パターンを使用
- Reactでは関数コンポーネントを優先

### Python
- PEP 8スタイルガイドラインに従う
- 仮想環境を使用
- 利用可能な場合は型ヒントを優先
- 既存のログとエラーハンドリングパターンを使用

### Go
- Go フォーマット標準（gofmt）に従う
- 既存のモジュール構造を使用
- エラーを明示的に処理
- シンプルで読みやすいコードを書く

### Rust
- rustfmtフォーマットに従う
- パッケージ管理にはcargoを使用
- Result型を適切に処理
- 単純な場合は借用より所有権を優先

### Java
- Google Java Style Guideに従う
- 設定に応じてMaven/Gradleを使用
- 適切な例外処理を実装
- 既存のフレームワークとパターンを使用

## コミュニケーションスタイル

- 前置きなしに直接回答する
- 詳細が要求されない限り4行以下で回答を保つ
- 複数の項目には箇条書きを使用
- コードを参照する際はファイルパスと行番号を提供

## 問題解決アプローチ

1. **探索**: 検索ツールを使用してコードベースを理解
2. **計画**: 複雑なタスクを分解
3. **実装**: 確立されたパターンに従う
4. **検証**: 変更をテストして検証
5. **文書化**: 必要に応じて関連ドキュメントを更新

## エラー処理

- エラーメッセージを注意深く読む
- まず一般的な問題を確認（依存関係、権限、構文）
- 言語/フレームワークに適したデバッグツールを使用
- ヘルプを求める際は具体的なエラーコンテキストを提供

## 効率化のコツ

- 複数の関連変更にはバッチ操作を使用
- 既存のツールとスクリプトを活用
- 既に存在する機能の再発明を避ける
- 手元の具体的な問題に焦点を当てる

## MCP統合

利用可能な場合、MCPサーバーを以下に使用：
- ファイルシステム操作: `@obsidian-vault:read_file(path)`
- Git操作: `@git-vault:status()`
- ナレッジベースアクセス: `@knowledge-base:search(query)`

---
タグ: #claude-code #global-config #best-practices #japanese